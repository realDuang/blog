<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.9">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>DWS -- 前端制品服务的云原生部署实践 | 枫之谷</title><meta name="description" content="这个人很懒，但还是想留下些什么东西。">
    <link rel="preload" href="/assets/style-BtB9LtaP.css" as="style"><link rel="stylesheet" href="/assets/style-BtB9LtaP.css">
    <link rel="modulepreload" href="/assets/app-ZJlk8RDi.js"><link rel="modulepreload" href="/assets/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html-BVWm5g2A.js">
    <link rel="prefetch" href="/assets/timeline.html-DNxKTogF.js" as="script"><link rel="prefetch" href="/assets/posts.html-BJrIv3yJ.js" as="script"><link rel="prefetch" href="/assets/friendship-link.html-BM2jm6um.js" as="script"><link rel="prefetch" href="/assets/1.html-CsRwDCmb.js" as="script"><link rel="prefetch" href="/assets/1.html-C4wChs_a.js" as="script"><link rel="prefetch" href="/assets/1.html-arML3kxj.js" as="script"><link rel="prefetch" href="/assets/1.html-CcaHqS1y.js" as="script"><link rel="prefetch" href="/assets/1.html-CNQKb5hg.js" as="script"><link rel="prefetch" href="/assets/1.html-CPkmKWuc.js" as="script"><link rel="prefetch" href="/assets/2.html-BpFlo5ee.js" as="script"><link rel="prefetch" href="/assets/1.html-DEvAOUpK.js" as="script"><link rel="prefetch" href="/assets/1.html-R72znaf8.js" as="script"><link rel="prefetch" href="/assets/1.html-Bepxjf0l.js" as="script"><link rel="prefetch" href="/assets/1.html-7VYd03X4.js" as="script"><link rel="prefetch" href="/assets/1.html-D9nv_4lX.js" as="script"><link rel="prefetch" href="/assets/1.html-eMyDx-cR.js" as="script"><link rel="prefetch" href="/assets/1.html-CfxOtAW2.js" as="script"><link rel="prefetch" href="/assets/1.html-Bg4mEnAq.js" as="script"><link rel="prefetch" href="/assets/1.html-B6uS3wap.js" as="script"><link rel="prefetch" href="/assets/1.html-CrGojbM4.js" as="script"><link rel="prefetch" href="/assets/1.html-EqMAwx71.js" as="script"><link rel="prefetch" href="/assets/1.html-CR3vttAN.js" as="script"><link rel="prefetch" href="/assets/1.html-BfN1JHzQ.js" as="script"><link rel="prefetch" href="/assets/1.html-BXH3iyLa.js" as="script"><link rel="prefetch" href="/assets/1.html-DT0n-pz3.js" as="script"><link rel="prefetch" href="/assets/1.html-DllHws_h.js" as="script"><link rel="prefetch" href="/assets/1.html-B3y27b14.js" as="script"><link rel="prefetch" href="/assets/1.html-DZYbVBA3.js" as="script"><link rel="prefetch" href="/assets/1.html-ulTfnCYY.js" as="script"><link rel="prefetch" href="/assets/1.html-B84XQSuG.js" as="script"><link rel="prefetch" href="/assets/1.html-ClK0_FSB.js" as="script"><link rel="prefetch" href="/assets/1.html-DhsHANt8.js" as="script"><link rel="prefetch" href="/assets/1.html-gcqoKx1x.js" as="script"><link rel="prefetch" href="/assets/1.html-CnqdlK8m.js" as="script"><link rel="prefetch" href="/assets/1.html-TXOdbhAB.js" as="script"><link rel="prefetch" href="/assets/2.html-15gGFGfU.js" as="script"><link rel="prefetch" href="/assets/1.html-Csjxyy67.js" as="script"><link rel="prefetch" href="/assets/1.html-CM2xO4hh.js" as="script"><link rel="prefetch" href="/assets/1.html-CeamIu-K.js" as="script"><link rel="prefetch" href="/assets/1.html-pUsonTys.js" as="script"><link rel="prefetch" href="/assets/1.html-CP5GeZzu.js" as="script"><link rel="prefetch" href="/assets/1.html-BfAR8arX.js" as="script"><link rel="prefetch" href="/assets/1.html-Cwu86S1N.js" as="script"><link rel="prefetch" href="/assets/1.html-CmuNrYSR.js" as="script"><link rel="prefetch" href="/assets/1.html-BspYqhyK.js" as="script"><link rel="prefetch" href="/assets/1.html-DUude6rp.js" as="script"><link rel="prefetch" href="/assets/1.html-CHnSRgu-.js" as="script"><link rel="prefetch" href="/assets/1.html-PqNEAkQU.js" as="script"><link rel="prefetch" href="/assets/2.html-BKXOhS1M.js" as="script"><link rel="prefetch" href="/assets/3.html-BPkXl_VH.js" as="script"><link rel="prefetch" href="/assets/4.html-DvMjRXno.js" as="script"><link rel="prefetch" href="/assets/5.html-C70yEJtT.js" as="script"><link rel="prefetch" href="/assets/index.html-Ci-XH-yd.js" as="script"><link rel="prefetch" href="/assets/2021-05-07.html-CwMO3dzn.js" as="script"><link rel="prefetch" href="/assets/VS Code For Web shenruqianchu -- Server mokuaishejipian.html-Bi9SP2Dm.js" as="script"><link rel="prefetch" href="/assets/VS Code For Web shenruqianchu -- yilaizhurusheji.html-CViUWemy.js" as="script"><link rel="prefetch" href="/assets/VS Code For Web shenruqianchu -- daodupian.html-NQjeOmIP.js" as="script"><link rel="prefetch" href="/assets/VS Code For Web shenruqianchu -- jinchengjiantongxinpian.html-B-dKV0bA.js" as="script"><link rel="prefetch" href="/assets/VSCode For Web shenruqianchu -- chajianjiazaijizhi.html-D2MD_0ia.js" as="script"><link rel="prefetch" href="/assets/shiyongyilaizhurukuangjiaguanliduoshilifuwu（yi InversifyJS weili）.html-3hAs1Jjw.js" as="script"><link rel="prefetch" href="/assets/qianxiyilaizhurukuangjiadeshengmingzhouqi（yi InversifyJS weili）.html-D07C44P4.js" as="script"><link rel="prefetch" href="/assets/git changyongminglingbiji.html-DwIXUUUs.js" as="script"><link rel="prefetch" href="/assets/github jianli repository bingshangchuangongchengdefangfa.html-d52jZTls.js" as="script"><link rel="prefetch" href="/assets/jQuery panduanjixiugai checked zhuangtaidefangfa.html-BqNLLaWc.js" as="script"><link rel="prefetch" href="/assets/zhongwenshurufazhongguangbiaogensuinenlichufadeliulanqishijiantanjiu.html-BGfVY6Tu.js" as="script"><link rel="prefetch" href="/assets/youyadiguanliyutongbugerengongzuohuanjing -- dotfiles manager.html-Cp_a4h9y.js" as="script"><link rel="prefetch" href="/assets/zai Linux xia nodejs deanzhuangfangfadaquan.html-0TVnhAAv.js" as="script"><link rel="prefetch" href="/assets/jiejuegithub_Hexodebokeduozhongduantongbuwenti.html-DBc7roWO.js" as="script"><link rel="prefetch" href="/assets/CSS dechuizhijizhongfangfa.html-CyNfvcct.js" as="script"><link rel="prefetch" href="/assets/Flex bujutiyan.html-CLj1ziV2.js" as="script"><link rel="prefetch" href="/assets/React15 yu React16 shengmingzhouqiqubieyushiyongfangshi.html-BeoE1Q6w.js" as="script"><link rel="prefetch" href="/assets/React16.8 useHook texing.html-BYaYZb0Y.js" as="script"><link rel="prefetch" href="/assets/Redux shenrulijie (1).html-6ne47J5T.js" as="script"><link rel="prefetch" href="/assets/Redux shenrulijie (2).html-B_SSUxnF.js" as="script"><link rel="prefetch" href="/assets/Redux shenrulijie (3).html-D_dJBwFY.js" as="script"><link rel="prefetch" href="/assets/Redux shenrulijie (4).html-BjbHDgLY.js" as="script"><link rel="prefetch" href="/assets/es6 xuexibiji.html-B3UBdHEc.js" as="script"><link rel="prefetch" href="/assets/js xuexibijishuli (1).html-C2zXN6_C.js" as="script"><link rel="prefetch" href="/assets/js xuexibijishuli (2).html-BYbF260k.js" as="script"><link rel="prefetch" href="/assets/liyong React gaojiezujianshixianyigemianbaoxiedaohang.html-CV3XEiIu.js" as="script"><link rel="prefetch" href="/assets/MongoDB jijianshijianrumen.html-BdY2G0if.js" as="script"><link rel="prefetch" href="/assets/NodeJS fuwu Docker jingxiangjizhiyouhuazhibei.html-CU-YPD7y.js" as="script"><link rel="prefetch" href="/assets/daxingqianduanxiangmu DevOps chensilu -- CD pian.html-DCS7JFr1.js" as="script"><link rel="prefetch" href="/assets/daxingqianduanxiangmu DevOps chensilu -- CI pian.html-DZdv-ESr.js" as="script"><link rel="prefetch" href="/assets/shixianyigebanbenzidongkongzhide IndexedDB.html-CfCQ9WVJ.js" as="script"><link rel="prefetch" href="/assets/youxiangwuhuantudemoxingshejiyuyingyong.html-IuuJOlL1.js" as="script"><link rel="prefetch" href="/assets/gei JavaScript chashangduoxianchengdechibang —— Web Worker de Promise huashijian.html-CQMMnepw.js" as="script"><link rel="prefetch" href="/assets/shejiyigejiyudashujudejiqixuexiquanzidongjizhangxitong（AIpian）.html-C2InZ70_.js" as="script"><link rel="prefetch" href="/assets/shejiyigejiyudashujudejiqixuexiquanzidongjizhangxitong（jichupian）.html-_dThUJEH.js" as="script"><link rel="prefetch" href="/assets/daimazhonggouzhiwojian.html-BhvodTyR.js" as="script"><link rel="prefetch" href="/assets/qianduanshoupingxuanranshijiandejizhiyouhua.html-DUyoqGTz.js" as="script"><link rel="prefetch" href="/assets/shejimoshide js shixian (1)--danlimoshi.html-C4oGid-A.js" as="script"><link rel="prefetch" href="/assets/shejimoshide js shixian (2)--zhuangshiqimoshi.html-lEZVkLE0.js" as="script"><link rel="prefetch" href="/assets/shejimoshide js shixian (3)--guanchazhemoshi.html-DBu07Y69.js" as="script"><link rel="prefetch" href="/assets/shejimoshide js shixian (4)--dailimoshi.html-C3aim-zo.js" as="script"><link rel="prefetch" href="/assets/index.html-CRUc9AYS.js" as="script"><link rel="prefetch" href="/assets/index.html-BDkUFCet.js" as="script"><link rel="prefetch" href="/assets/404.html-C0-vFTUq.js" as="script"><link rel="prefetch" href="/assets/reco-valine-BI2JzRng.js" as="script"><link rel="prefetch" href="/assets/giscus-aTimukGI-CKTvSCx2.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper series--no show-catalog"><header class="navbar-container" style="top:0;"><div class="site-brand nav-item"><img class="logo" src="/avatar.jpg" alt="枫之谷"><a href="/" class="site-name can-hide">枫之谷</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/" class="link" aria-label="Home"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16.612 2.214a1.01 1.01 0 0 0-1.242 0L1 13.419l1.243 1.572L4 13.621V26a2.004 2.004 0 0 0 2 2h20a2.004 2.004 0 0 0 2-2V13.63L29.757 15L31 13.428zM18 26h-4v-8h4zm2 0v-8a2.002 2.002 0 0 0-2-2h-4a2.002 2.002 0 0 0-2 2v8H6V12.062l10-7.79l10 7.8V26z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Home<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/timeline.html" class="link" aria-label="时间轴"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M23.586 13L21 10.414V6h2v3.586l2 2L23.586 13z" fill="currentColor"></path><path d="M22 18a8 8 0 1 1 8-8a8.01 8.01 0 0 1-8 8zm0-14a6 6 0 1 0 6 6a6.007 6.007 0 0 0-6-6z" fill="currentColor"></path><path d="M8.63 18l7 6H30v-2H16.37l-7-6H4V2H2v26a2.002 2.002 0 0 0 2 2h26v-2H4V18z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->时间轴<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a class="link" href="https://blog.realduang.com/rss.xml" target="_blank" rel="noopener noreferrer" aria-label="订阅"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M8 18c-3.3 0-6 2.7-6 6s2.7 6 6 6s6-2.7 6-6s-2.7-6-6-6zm0 10c-2.2 0-4-1.8-4-4s1.8-4 4-4s4 1.8 4 4s-1.8 4-4 4z" fill="currentColor"></path><path d="M30 24h-2C28 13 19 4 8 4V2c12.1 0 22 9.9 22 22z" fill="currentColor"></path><path d="M22 24h-2c0-6.6-5.4-12-12-12v-2c7.7 0 14 6.3 14 14z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->订阅<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/docs/message-board/" class="link" aria-label="留言板"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M17.74 30L16 29l4-7h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9v2H6a4 4 0 0 1-4-4V8a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-4.84z" fill="currentColor"></path><path d="M8 10h16v2H8z" fill="currentColor"></path><path d="M8 16h10v2H8z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->留言板<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="更多"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M25 10H7a3.003 3.003 0 0 0-3 3v6a2.002 2.002 0 0 0 2 2v7a2.002 2.002 0 0 0 2 2h4a2.002 2.002 0 0 0 2-2V16h-2v12H8v-9H6v-6a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v6h-2v9h-4V16h-2v12a2.002 2.002 0 0 0 2 2h4a2.002 2.002 0 0 0 2-2v-7a2.002 2.002 0 0 0 2-2v-6a3.003 3.003 0 0 0-3-3z" fill="currentColor"></path><path d="M10 9a4 4 0 1 1 4-4a4.004 4.004 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.002 2.002 0 0 0-2-2z" fill="currentColor"></path><path d="M22 9a4 4 0 1 1 4-4a4.004 4.004 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.002 2.002 0 0 0-2-2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->更多<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="更多"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M25 10H7a3.003 3.003 0 0 0-3 3v6a2.002 2.002 0 0 0 2 2v7a2.002 2.002 0 0 0 2 2h4a2.002 2.002 0 0 0 2-2V16h-2v12H8v-9H6v-6a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v6h-2v9h-4V16h-2v12a2.002 2.002 0 0 0 2 2h4a2.002 2.002 0 0 0 2-2v-7a2.002 2.002 0 0 0 2-2v-6a3.003 3.003 0 0 0-3-3z" fill="currentColor"></path><path d="M10 9a4 4 0 1 1 4-4a4.004 4.004 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.002 2.002 0 0 0-2-2z" fill="currentColor"></path><path d="M22 9a4 4 0 1 1 4-4a4.004 4.004 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.002 2.002 0 0 0-2-2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->更多<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a class="link" href="https://realDuang.github.io/leetcode-in-javascript/" target="_blank" rel="noopener noreferrer" aria-label="Leetcode In JavaScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Leetcode In JavaScript<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/docs/about/" class="link" aria-label="关于我"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M6 21v-1H4v1a7 7 0 0 0 7 7h3v-2h-3a5 5 0 0 1-5-5z" fill="currentColor"></path><path d="M24 11v1h2v-1a7 7 0 0 0-7-7h-3v2h3a5 5 0 0 1 5 5z" fill="currentColor"></path><path d="M11 11H5a3 3 0 0 0-3 3v2h2v-2a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2h2v-2a3 3 0 0 0-3-3z" fill="currentColor"></path><path d="M8 10a4 4 0 1 0-4-4a4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2a2 2 0 0 1 2-2z" fill="currentColor"></path><path d="M27 25h-6a3 3 0 0 0-3 3v2h2v-2a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2h2v-2a3 3 0 0 0-3-3z" fill="currentColor"></path><path d="M20 20a4 4 0 1 0 4-4a4 4 0 0 0-4 4zm6 0a2 2 0 1 1-2-2a2 2 0 0 1 2 2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->关于我<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a class="link" href="https://github.com/realDuang/blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->GitHub<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></header><!----><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><a href="/" class="link" aria-label="Home"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16.612 2.214a1.01 1.01 0 0 0-1.242 0L1 13.419l1.243 1.572L4 13.621V26a2.004 2.004 0 0 0 2 2h20a2.004 2.004 0 0 0 2-2V13.63L29.757 15L31 13.428zM18 26h-4v-8h4zm2 0v-8a2.002 2.002 0 0 0-2-2h-4a2.002 2.002 0 0 0-2 2v8H6V12.062l10-7.79l10 7.8V26z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Home<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/timeline.html" class="link" aria-label="时间轴"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M23.586 13L21 10.414V6h2v3.586l2 2L23.586 13z" fill="currentColor"></path><path d="M22 18a8 8 0 1 1 8-8a8.01 8.01 0 0 1-8 8zm0-14a6 6 0 1 0 6 6a6.007 6.007 0 0 0-6-6z" fill="currentColor"></path><path d="M8.63 18l7 6H30v-2H16.37l-7-6H4V2H2v26a2.002 2.002 0 0 0 2 2h26v-2H4V18z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->时间轴<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a class="link" href="https://blog.realduang.com/rss.xml" target="_blank" rel="noopener noreferrer" aria-label="订阅"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M8 18c-3.3 0-6 2.7-6 6s2.7 6 6 6s6-2.7 6-6s-2.7-6-6-6zm0 10c-2.2 0-4-1.8-4-4s1.8-4 4-4s4 1.8 4 4s-1.8 4-4 4z" fill="currentColor"></path><path d="M30 24h-2C28 13 19 4 8 4V2c12.1 0 22 9.9 22 22z" fill="currentColor"></path><path d="M22 24h-2c0-6.6-5.4-12-12-12v-2c7.7 0 14 6.3 14 14z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->订阅<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/docs/message-board/" class="link" aria-label="留言板"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M17.74 30L16 29l4-7h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9v2H6a4 4 0 0 1-4-4V8a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-4.84z" fill="currentColor"></path><path d="M8 10h16v2H8z" fill="currentColor"></path><path d="M8 16h10v2H8z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->留言板<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="更多"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M25 10H7a3.003 3.003 0 0 0-3 3v6a2.002 2.002 0 0 0 2 2v7a2.002 2.002 0 0 0 2 2h4a2.002 2.002 0 0 0 2-2V16h-2v12H8v-9H6v-6a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v6h-2v9h-4V16h-2v12a2.002 2.002 0 0 0 2 2h4a2.002 2.002 0 0 0 2-2v-7a2.002 2.002 0 0 0 2-2v-6a3.003 3.003 0 0 0-3-3z" fill="currentColor"></path><path d="M10 9a4 4 0 1 1 4-4a4.004 4.004 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.002 2.002 0 0 0-2-2z" fill="currentColor"></path><path d="M22 9a4 4 0 1 1 4-4a4.004 4.004 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.002 2.002 0 0 0-2-2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->更多<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="更多"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M25 10H7a3.003 3.003 0 0 0-3 3v6a2.002 2.002 0 0 0 2 2v7a2.002 2.002 0 0 0 2 2h4a2.002 2.002 0 0 0 2-2V16h-2v12H8v-9H6v-6a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v6h-2v9h-4V16h-2v12a2.002 2.002 0 0 0 2 2h4a2.002 2.002 0 0 0 2-2v-7a2.002 2.002 0 0 0 2-2v-6a3.003 3.003 0 0 0-3-3z" fill="currentColor"></path><path d="M10 9a4 4 0 1 1 4-4a4.004 4.004 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.002 2.002 0 0 0-2-2z" fill="currentColor"></path><path d="M22 9a4 4 0 1 1 4-4a4.004 4.004 0 0 1-4 4zm0-6a2 2 0 1 0 2 2a2.002 2.002 0 0 0-2-2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->更多<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a class="link" href="https://realDuang.github.io/leetcode-in-javascript/" target="_blank" rel="noopener noreferrer" aria-label="Leetcode In JavaScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Leetcode In JavaScript<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/docs/about/" class="link" aria-label="关于我"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M6 21v-1H4v1a7 7 0 0 0 7 7h3v-2h-3a5 5 0 0 1-5-5z" fill="currentColor"></path><path d="M24 11v1h2v-1a7 7 0 0 0-7-7h-3v2h3a5 5 0 0 1 5 5z" fill="currentColor"></path><path d="M11 11H5a3 3 0 0 0-3 3v2h2v-2a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2h2v-2a3 3 0 0 0-3-3z" fill="currentColor"></path><path d="M8 10a4 4 0 1 0-4-4a4 4 0 0 0 4 4zm0-6a2 2 0 1 1-2 2a2 2 0 0 1 2-2z" fill="currentColor"></path><path d="M27 25h-6a3 3 0 0 0-3 3v2h2v-2a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2h2v-2a3 3 0 0 0-3-3z" fill="currentColor"></path><path d="M20 20a4 4 0 1 0 4-4a4 4 0 0 0-4 4zm6 0a2 2 0 1 1-2-2a2 2 0 0 1 2 2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->关于我<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a class="link" href="https://github.com/realDuang/blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->GitHub<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></span></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><img class="logo" src="/avatar.jpg" alt="枫之谷"><a href="/" class="site-name can-hide">枫之谷</a></div><!--[--><!--]--></aside><!--[--><main class="page-container"><h1 class="page-title">DWS -- 前端制品服务的云原生部署实践</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Duang<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2022/03/15 14:16:05<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[--><!--[--><a href="/categories/qianduanjishuyanjiuyuan/1.html" class="">前端技术研究院</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[--><!--[--><a href="/tags/yunyuansheng/1.html" class="">云原生</a><a href="/tags/CI/CD/1.html" class="">CI/CD</a><a href="/tags/DevOps/1.html" class="">DevOps</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12"><g fill="none"><path d="M1.974 6.659a.5.5 0 0 1-.948-.317c-.01.03 0-.001 0-.001a1.633 1.633 0 0 1 .062-.162c.04-.095.099-.226.18-.381c.165-.31.422-.723.801-1.136C2.834 3.827 4.087 3 6 3c1.913 0 3.166.827 3.931 1.662a5.479 5.479 0 0 1 .98 1.517l.046.113c.003.008.013.06.023.11L11 6.5s.084.333-.342.474a.5.5 0 0 1-.632-.314v-.003l-.006-.016a3.678 3.678 0 0 0-.172-.376a4.477 4.477 0 0 0-.654-.927C8.584 4.673 7.587 4 6 4s-2.584.673-3.194 1.338a4.477 4.477 0 0 0-.795 1.225a2.209 2.209 0 0 0-.03.078l-.007.018zM6 5a2 2 0 1 0 0 4a2 2 0 0 0 0-4zM5 7a1 1 0 1 1 2 0a1 1 0 0 1-2 0z" fill="currentColor"></path></g></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[--><!----><span class="waline-pageview-count" data-path="/blogs/qianduanjishuyanjiuyuan/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html"></span><!--]--></span></span></div><div class="theme-reco-default-content"><div><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>云原生是一个很热门的话题，它将服务高可用性上升到了一个新的台阶。站点的高可用同时也是我们前端对自己的高要求。</p><p>那么我们该如何设计，才能让我们的前端项目也搭上云原生的快车，实现自动化运维与部署呢？本篇文章我们就来浅谈一下这里的实践。</p></div><h2 id="从一个后台服务的部署开始" tabindex="-1"><a class="header-anchor" href="#从一个后台服务的部署开始"><span>从一个后台服务的部署开始</span></a></h2><p>说到一个服务的部署，无论是本地起一个 Dev Server 用来做热加载，还是在某台服务器上起一个 Mock Server，用来实现数据通信，相信大家都有所实践。</p><p><img src="https://zakum-1252497671.cos.ap-guangzhou.myqcloud.com/20211130111445.png" alt="后台服务部署"></p><p>通常由我们前端开发搭建的后台服务，多以非关键链路为主，很少会去考虑稳定性和安全性的问题。遇到特性服务出现异常时，最常见的做法就是设计一个降级策略，如果出现任何问题告警，直接手动关闭该特性，把请求切换到某一个兜底的后台服务上。</p><p>但是，在服务宕机的这段时间内用户的异常率会上升，特性功能关闭某些后用户的体验也会下降。这样的降级策略并不优雅，甚至在某些关键链路的场景下，服务宕机会导致直接白屏，这是不可接受的。</p><p>工业级别的大型软件服务对稳定性有着近乎苛刻的要求。我们在网上浏览各大厂的服务架构介绍时，有一个词总是越来越频繁的出现，那就是云原生部署。</p><p>说到云，大家很容易想到各项云服务。有同学会说了，当前各厂都推出了公有云服务，既然这项技术已经这么发达了，我随便在腾讯云上买一台 CVM 当服务器，在上面进行服务的开发与部署，是不是就是服务的云原生部署了？事实上，云原生部署远不是单机服务上云这么简单。</p><p>云原生是以容器、微服务、DevOps 等技术为基础建立的一套架构思想，其核心在于利用了镜像服务的不可变特性，使得基于镜像的分布式以及自动化能力得以实现。</p><p>这么说可能不太好理解，我们可以换个思路，思考一个理想的服务架构应该要满足什么条件：</p><ol><li>维护服务的稳定性，在任何场景下服务不能被中断，更新及回滚时要维持服务内容的<strong>幂等性</strong>，并对运行各迭代版本的服务做好充分的<strong>容灾和备份</strong>。</li><li>产品版本迭代的过程要<strong>自动化</strong>且<strong>无感知</strong>，服务的部署发布复杂度不能超过旧架构。</li></ol><p>带着这两点要求，我们来思考原始的服务部署究竟有哪些问题，以及我们可以从哪些角度做出改进。</p><h2 id="服务运维模式的进化" tabindex="-1"><a class="header-anchor" href="#服务运维模式的进化"><span>服务运维模式的进化</span></a></h2><h3 id="_0-石器时代" tabindex="-1"><a class="header-anchor" href="#_0-石器时代"><span>0. 石器时代</span></a></h3><p><img src="https://zakum-1252497671.cos.ap-guangzhou.myqcloud.com/20210729172251.png" alt="石器时代"></p><p>让一个后台服务最快开发上线的方式，不外乎直接在物理机服务器上进行服务部署，代码变更以及服务运维全程在该服务器上进行。这也是最常见的服务部署方式，需要对服务做任何变更及版本升级时，都需要登录到服务器去操作文件内容，重启服务。在多个服务器提供负载均衡的情况下，这样的操作需要进行多次。</p><p>优化方案当然是有的，我们可以通过 git 仓库来管理版本，通过编写 shell 脚本来批量修改与重启。但无论如何这种直接操作服务器代码内容的方式都是十分危险的（删库跑路警告）。</p><p>另外，物理机不可避免的受到老化的影响，需要裁撤换新，那么无论新机器与旧机器有多么相似，架构的不同，系统版本的不同，还有一些原有系统中一些魔改的操作，都会让服务的迁移变得极为困难，有时候由于系统核心依赖的缺失而进行的迁移，其难度不亚于重写。我们需要一个与承载环境完全无关的服务来实现一处编写，随处部署的能力。</p><p>而这，其实就是 docker 的容器化思路。</p><h3 id="_1-青铜时代" tabindex="-1"><a class="header-anchor" href="#_1-青铜时代"><span>1. 青铜时代</span></a></h3><p><img src="https://zakum-1252497671.cos.ap-guangzhou.myqcloud.com/20210729202728.png" alt="青铜时代"></p><p>容器技术提供的是操作系统级别的进程隔离，可以让服务跑在完全隔离的环境下，无视物理机自身属性，妈妈再也不用考虑我的环境的兼容性问题啦。</p><p>在 <a href="https://blog.realduang.com/blogs/2021-05-11.html" target="_blank" rel="noopener noreferrer">大型前端项目 DevOps 沉思录 —— CI 篇<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 中我曾简单介绍过，想要维持产物-&gt;制品服务的不可变特性，采用 docker 容器的方式包裹制品服务或许是一个最佳实践。</p><p>业务在执行前端源码编译后，进一步将产物放入制品服务的指定目录中，并构建为 Docker 镜像。之后对于任何架构的服务器，只需要拥有 docker 环境，则下载该镜像后一定能运行起来提供完全相同的服务，实现无视宿主机环境的 imutable 部署。</p><p>而最简接入的方式也很简单，只需要在项目根目录下增加 Dockerfile 的文件编写即可。</p><div class="language-docker line-numbers-mode" data-ext="docker" data-title="docker"><pre class="language-docker"><code><span class="token comment"># 安装完整依赖并构建产物</span>
<span class="token instruction"><span class="token keyword">FROM</span> node:14 <span class="token keyword">AS</span> build</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>

<span class="token instruction"><span class="token keyword">COPY</span> package*.json /app/</span>
<span class="token instruction"><span class="token keyword">RUN</span> [<span class="token string">&quot;npm&quot;</span>, <span class="token string">&quot;install&quot;</span>]</span>
<span class="token instruction"><span class="token keyword">COPY</span> . /app/</span>

<span class="token instruction"><span class="token keyword">RUN</span> npm run build</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当然优化的方式有很多，具体可以参考我的 <a href="https://blog.realduang.com/blogs/2021-07-25.html" target="_blank" rel="noopener noreferrer">NodeJS 服务 Docker 镜像极致优化指北<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_2-蒸汽时代" tabindex="-1"><a class="header-anchor" href="#_2-蒸汽时代"><span>2. 蒸汽时代</span></a></h3><p><img src="https://zakum-1252497671.cos.ap-guangzhou.myqcloud.com/20210729213313.png" alt="蒸汽时代"></p><p>我们的实际服务中，仅靠一个单容器可能不足以支撑所有的应用场景。拿 Web 的场景来说，我们可能会需要一个 redis 服务来做缓存优化，需要消息队列来实现与多后端服务的数据拉取。</p><p>这些服务并不是完全独立的，例如接口服务和数据库服务，它们需要共享同一个网络栈，挂载同一个存储卷。我们暂且将这样一个有关联依赖关系的容器集称为<code>Pod</code>。</p><p>想要将这样一个<code>Pod</code>作为逻辑整体来进行管理，就需要一个容器组织框架了。市面上的容器管理框架有几种，最典型的就是 docker-compose 了，它能很好的组织多个容器间的依赖关系，做到多依赖服务的批量部署。</p><p>常见的 docker-compose 配置形式如下，仅需声明所需的端口、环境以及依赖，即可通过 <code>docker-compose up</code> 一键启动，十分便利。</p><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3.4&#39;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">webserver</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> synccheng/webserver
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ConnectionString=sqlserver
    <span class="token key atrule">expose</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;3306&quot;</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;8000:80&quot;</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> sqlserver

  <span class="token key atrule">sqlserver</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> synccheng/sqlserver
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> PASSWORD=<span class="token punctuation">[</span>PLACEHOLDER<span class="token punctuation">]</span>
    <span class="token key atrule">expose</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;3306&quot;</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;5000:3306&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-电气时代" tabindex="-1"><a class="header-anchor" href="#_3-电气时代"><span>3. 电气时代</span></a></h3><p><img src="https://zakum-1252497671.cos.ap-guangzhou.myqcloud.com/20211117202703.png" alt="电气时代"></p><p><code>Pod</code>概念的提出，解决了容器之间的关联依赖关系、共享资源等问题。但对于多个<code>Pod</code>的管理，其实也有同样的问题需要解决。例如公共服务<code>Pod</code>与单个业务服务<code>Pod</code>之间也存在关联关系。</p><p>关联<code>Pod</code>的生命周期需要进行统一管理调度。例如当版本更新，容器需要销毁重建时，公共服务一定是最先启动，最后销毁的，这样才能保证业务层依赖服务的稳定。</p><p>这里根据实际需求的不同，管理调度策略有很多，例如在当前最流行的容器编排引擎 Kubernetes 中，就分为 Deployment、StatefulSet、DaemonSet、Replication 等多种。它们出现的目的，就是解决多<code>Pod</code>间的生命周期管理问题。保证多服务更新或销毁时整体的稳定性。</p><p>当然，Kubernetes 提供的能力远不止于此，作为编排引擎，它能够实现服务的自动化部署、设计多<code>Pod</code>的负载均衡、实现动态扩缩容（HPA），等等。基于镜像构建的 <code>imutable</code> 特性，在资源足够的情况下，Kubernetes 能提供近乎无限的<strong>容灾和备份</strong>能力。</p><h3 id="_4-信息时代" tabindex="-1"><a class="header-anchor" href="#_4-信息时代"><span>4. 信息时代</span></a></h3><p>我们在 Server 的电气时代中，已经近乎完美实现了之前所要求的第一点：服务的绝对可靠。不过代价是什么呢？增加了大量的复杂度。因此这里需要一名熟悉整套流程的运维人员负责服务的维护和升级，同时他还得熟悉前端的部署流程及发布情况。这样一个角色在哪个公司恐怕都是较为稀缺的。</p><p>此时我们可以更进一步思考，如何实现要求的第二点，即在不增加前端同学的理解成本下，无感知地走这一套流程发布新版本，根据该制品的发布所处的不同环境或用途，自动配置好服务所需的各项容灾能力。这时，就轮到基础架构自动化编排工具————Terraform 出场了。</p><p>Terraform 充分利用了 Infrastructure as Code, 基础架构即代码的思想，以声明的方式，在配置文件中指定不同资源组中云上硬件资源的分配与管理。</p><div class="language-terraform line-numbers-mode" data-ext="terraform" data-title="terraform"><pre class="language-terraform"><code>terraform {
   required_providers {
     aws = {
       source = &quot;aws.amazon.com/xxx&quot;
     }
   }
   backend &quot;http&quot; {}
}

# 配置 provider
provider &quot;aws&quot; {
    version = &quot;1.0.0&quot;
}

# 生成资源组
resource &quot;aws_resource_group&quot; &quot;deployment&quot; {
    metadata {
      name     = &quot;duang&quot;
      namespace = &quot;duang-workspace&quot;
    }
    spec {
      container {...}
      volume {...}
      ...
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>至此，服务从服务到软硬件的运维配置自动化链路就已全部串联起来。结合之前介绍的 <a href="https://blog.realduang.com/blogs/2021-05-11.html" target="_blank" rel="noopener noreferrer">DevOps 持续集成流水线实践文章<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，业务开发者就能仅通过 push 业务代码的情况下，自动搭建起来一套运维完备的环境了。</p><h2 id="dockerized-web-server-的概念" tabindex="-1"><a class="header-anchor" href="#dockerized-web-server-的概念"><span>Dockerized Web Server 的概念</span></a></h2><p>一个云原生的服务架构的理论基础有了，接下来我们可以看看，这样一套架构该如何运用在前端开发的部署场景中。</p><p>我们可以将一次前端编译构建的产物分成两个部分，入口文件和资源文件。其中，资源文件是静态的，可以加入 hash 之后直接存放在云存储中做持久化存储，并提供 CDN 进行加速。</p><p>而入口文件是随着版本动态更新的，客户端访问时，仅需要找到正确版本的入口文件，则可以拉取到全部的资源文件，获取完整内容。而由于各级缓存的存在，如何让用户及时请求到正确版本的入口文件，一直是前端的一大痛点。</p><p>基于上面对云原生服务模式的介绍，我们知道，需要给业务的每一个前端版本制作一个不可变的服务镜像，在最基本的情况下，业务只需要自己编写一个转发服务镜像，设置好路由规则，并在指定目录位置存放好编译构建出来的入口 HTML 文件即可。</p><p>这样一来，每一个版本都是一个独立的服务，这样想请求到特定版本的话，向特定的容器发送请求即可。那么每一个提供版本入口的服务就可以称其为最简形式的<code>Dockerized Web Server</code>（下简称 <code>DWS</code> ）。</p><p>此时的项目构建路径如下图所示：</p><p><img src="https://zakum-1252497671.cos.ap-guangzhou.myqcloud.com/20211130131512.png" alt="DWS 构建路径"></p><p>通过上述的结构设计，我们可以发现，这种服务能力本身是与业务无关的，可以统一建立构建模型，实现分布式部署。业务甚至都不需要了解和编写 dockerfile，仅需要接入统一的 <code>DWS</code> 框架，并将构建的产物移动到镜像内，即可借助流水线，自动完成一个 <code>DWS</code> 的打包与部署。</p><h2 id="扩展前端能力边界" tabindex="-1"><a class="header-anchor" href="#扩展前端能力边界"><span>扩展前端能力边界</span></a></h2><p>一些同学可能会疑惑，如果只是给 HTML 这一个入口文件，制作成镜像服务并实现云原生部署，规划一套这么重的方案来承载有些大费周章了。这是将前端的产物默认为静态文件这种简单的形式来考虑的。事实上现代前端所需要涉足的能力远不止于此。</p><p>举个栗子，大家都比较熟悉的 SSR。通常来说，涉及到 SSR 功能的页面都会起一个后台服务（通常是熟悉的 node 服务）来完成权限的判断、后台数据的拉取、HTML 代码片段的拼接等等操作，最后直接返回给客户端一个渲染好的首屏完整页面，以此来提高首屏速度。那么实际上，提供这个能力的后台服务其实就是 <code>DWS</code> 里<code>动态</code>的一种表现形式，可以交由 <code>DWS</code> 本地承载并实现。</p><p>对于不同的前端项目，除去用来做数据直出的 SSR，还有更多的需要运行时动态判断的功能存在。例如业务想在获取 HTML 之前，做一些数据的预处理，注入到 HTML 里，改变 HTML 内容，比如 A/B Test 中，设置对某个 feature 的开关；又例如，请求时根据权限判断来提前预渲染某个局部元素；甚至能够根据请求路由或参数的不同，返回不同的文件，在同一版本内起到网关的作用，等等。</p><p>这些功能以往都是由请求链路上多级的后台服务来分别注入，或是在首屏结束之后，由客户端向各个接口发起 ajax 请求，获取到相应的权限与状态后，去改变页面展示。</p><p>很显然，既然 <code>DWS</code> 能够直接与后台数据交互，且通信效率较高，又能直接从本地拿到正确版本的入口文件，那么上述的这些能力完全可以整合到同一个服务内去处理，最后一步到位地返回一个最终的服务端渲染页面。</p><p>这样的行为扩展了前端项目的能力边界，将前端开发的交付内容，从传统的 web 网页渲染转变到了整个网页渲染服务的开发与维护。这就是所谓的<code>前端制品即服务</code>。</p><h2 id="前端制品的微服务架构" tabindex="-1"><a class="header-anchor" href="#前端制品的微服务架构"><span>前端制品的微服务架构</span></a></h2><p>接受了<code>前端制品即服务</code>后，对于前端来说，每个迭代版本需要交付和维护的内容就从普通的 HTML 文件转移到了 <code>DWS</code> 这个<code>动态制品服务</code>中。</p><p><img src="https://zakum-1252497671.cos.ap-guangzhou.myqcloud.com/20211130131512.png" alt="DWS 构建路径"></p><p>而生成的 <code>DWS</code> 作为请求链路的终点，其在请求链路中的位置如下图所示：</p><p><img src="https://zakum-1252497671.cos.ap-guangzhou.myqcloud.com/20211130131833.png" alt="请求链路"></p><p>借助流水线，我们可以为每个项目的每一次构建都生成一个不可变的服务镜像，并随时随地部署为容器提供服务。当业务涉及到多个前端项目时，网关可以通过路由或用户特征，将流量请求到相应项目的容器中提供服务，这样就实现了前端多项目场景下的微服务架构。</p><p>这样的架构好处在于，项目的不同版本可以共存，不同的项目之间可以任意组装，生成独立的环境副本，不需要另起一个代理服务做转发。</p><p>我们可以为不同类型的请求设置一个环境 id，仅环境 id 一致的各项目服务将被响应，对未生成此环境 id 的项目将由该项目的兜底服务响应。这样，我们仅通过一个环境 id，即可串联出来一整套环境。</p><p>我们可以任意拼装各个项目的各个版本，任意生成全新的联调测试环境。而这一过程不需要任何代理，也不触发任何部署，仅需绑定相同的 envid 即可实现。</p><p>灰度发布环境本质上也是一个特殊的测试环境，因此在环境的实现上也是完全一致的。当然，灰度环境为了确定流量的环境 id，其灰度策略会比较复杂，这里与本文的介绍无关，这一 part 我先挖个坑，在之后的持续部署相关文章中再来讲述。</p><h2 id="dws-服务版本控制及服务能力插件化" tabindex="-1"><a class="header-anchor" href="#dws-服务版本控制及服务能力插件化"><span><code>DWS</code> 服务版本控制及服务能力插件化</span></a></h2><p>之前我们提到，有许多能力都可以集成到<code>DWS</code>中来统一调用。但作为一项通用服务框架，如果不加限制的由业务方一味地往里面加功能，必定会给服务带来很大的隐患。</p><p>不同业务的需求可能不同，非通用能力的加入，需要做兼容处理的情况将会非常复杂，服务的响应时间也可能因此延长。另外，业务直接修改通用服务的代码进行升级是一个很危险的行为，就算业务自身调试通过了，也可能会对其他业务造成不可预知的影响。</p><p>为了解决这一问题，我们提出两点改进思路。</p><p>第一点是给服务加上版本控制。业务使用时，必须指定好特定版本的 <code>DWS</code> 服务版本，这样就能保证业务代码不变的情况下，打包出来的动态制品服务具有一致性，不受 <code>DWS</code> 更新影响。在动态制品服务需要进行更新时，在业务代码仓库里也能有所体现，保证业务方能够被感知到，便于版本审计。</p><p>第二点是将能力开放出来，将每一个功能特性都视为 <code>DWS</code> 的一个能力插件，当且仅当业务需要时，才会被引入和执行。</p><p>参考 koa 实现中间件的思路，我们也可以将插件设计为洋葱模型，洋葱模型的最外层，即请求的最外层变量封装以及响应的最终形态由 <code>DWS</code> 内部统一控制，其余对请求与响应的任何改造都可以交由插件来修改。</p><p><img src="https://zakum-1252497671.cos.ap-guangzhou.myqcloud.com/ZSZVANFQW0UWNMZSQ8LEKV.png" alt="洋葱模型"></p><p>插件的实现方法找到了后，现在的难点来到了，业务在接入 <code>DWS</code> 时，如何将所需的插件注入进去。</p><p>为了实现逻辑解耦和易于插拔这两点，我们采用声明式注册的方式。</p><p>在业务的配置文件中告知 <code>DWS</code> 所需插件的引用入口位置，可以为远端，也可以为本地，在镜像构建时，将读取配置文件，查询下载所有的插件，打包到 <code>DWS</code> 内，以洋葱模型规定的顺序<strong>依次</strong>调用。</p><p>对于存放至远端的插件，我们一般视为可以给其他业务通用的能力，可以统一收归到一处，以类似于<code>插件市场</code>的形式提供给业务方查阅取用，同时，通用插件应与 <code>DWS</code> 核心服务一样，也拥有版本控制能力，保证插件能力修改时业务方能够被感知。</p><p>一般来说，通用插件会根据具体需求的不同，在逻辑有一些变更，此时需要调用方根据自身项目情况传入一些特定参数。为了解决这一点，我们可以将插件做成工厂模式，接收配置文件中的 options 参数，返回出符合要求的插件，从而提升通用插件的灵活性。</p><p>如此一来，插件的配置文件声明格式就确定下来了。</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
......
<span class="token property">&quot;middlewares&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;local-plugin&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./local-plugins/index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@tencent/remote-plugin&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;v1.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对于本地插件的编写，业务方自己拥有完全的控制能力，完全不需要更改动到 <code>DWS</code> 服务本身。通过插件的形式，前端在不用建立任何额外服务端的情况下，也能实现一些原先需要搭建服务端才能处理的功能了，可以基于此做很多有趣的扩展。</p><h2 id="结语" tabindex="-1"><a class="header-anchor" href="#结语"><span>结语</span></a></h2><p>本文介绍了云原生架构在增强服务稳定性以及自动化能力上的优势，并结合前端项目部署特点做出了一些通用性的实践。当然，这套体系还远不够成熟，但它的想象空间是十分巨大的，它拓展了前端的能力边界，在不需要维护新的后台服务的情况下，得以对产物进行服务端预处理。</p><p>这个坑很大，但也很有意思，对此感兴趣的小伙伴欢迎参与进来一起探讨，在云原生的大环境下，我们前端还能做些什么。</p></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Last Updated 5/21/2024, 9:53:10 AM<!--]--></span></span></div></footer><!----><div class="reco-waline-wrapper"><div data-waline serverurl="waline-roan-gamma.vercel.app" pageview="false"><!--v-if--><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">NickName</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">E-Mail</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">Website</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="Comment here..."></textarea><div class="wl-preview" style="display:none;"><hr><h4>Preview:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="Emoji" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="GIF"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="Upload Image"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="Preview"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-captcha-container"></div><div class="wl-text-number">0 <!--v-if-->  Words</div><button type="button" class="wl-btn">Login</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->Submit<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="Search GIF"><!--v-if--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> Comments</div><ul class="wl-sort"><!--[--><li class="active">Latest</li><li class="">Oldest</li><li class="">Hottest</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noopener noreferrer"> Waline </a> v2.15.8</div></div></div></main><!--]--><div class="page-catalog-container"><h5 class="tip">导航条</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/qianduanjishuyanjiuyuan/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html#从一个后台服务的部署开始" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="从一个后台服务的部署开始"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->从一个后台服务的部署开始<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/qianduanjishuyanjiuyuan/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html#服务运维模式的进化" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="服务运维模式的进化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->服务运维模式的进化<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/qianduanjishuyanjiuyuan/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html#_0-石器时代" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="0. 石器时代"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->0. 石器时代<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/qianduanjishuyanjiuyuan/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html#_1-青铜时代" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1. 青铜时代"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->1. 青铜时代<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/qianduanjishuyanjiuyuan/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html#_2-蒸汽时代" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2. 蒸汽时代"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2. 蒸汽时代<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/qianduanjishuyanjiuyuan/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html#_3-电气时代" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="3. 电气时代"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3. 电气时代<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/qianduanjishuyanjiuyuan/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html#_4-信息时代" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="4. 信息时代"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4. 信息时代<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/qianduanjishuyanjiuyuan/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html#dockerized-web-server-的概念" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Dockerized Web Server 的概念"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Dockerized Web Server 的概念<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/qianduanjishuyanjiuyuan/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html#扩展前端能力边界" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="扩展前端能力边界"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->扩展前端能力边界<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/qianduanjishuyanjiuyuan/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html#前端制品的微服务架构" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="前端制品的微服务架构"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端制品的微服务架构<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/qianduanjishuyanjiuyuan/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html#dws-服务版本控制及服务能力插件化" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="DWS 服务版本控制及服务能力插件化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->DWS 服务版本控制及服务能力插件化<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/qianduanjishuyanjiuyuan/DWS -- qianduanzhipinfuwudeyunyuanshengbushushijian.html#结语" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="结语"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->结语<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-ZJlk8RDi.js" defer></script>
  </body>
</html>
